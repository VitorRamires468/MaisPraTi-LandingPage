!function(e){"use strict";var t,i=e.jQuery,s=e._,o=e.Backbone,r=e.Disney.LazyLoad,a=s.sortedIndex,n=o.Events,l=o.View,d=l.prototype.remove,c="breakpoints",h=function(e,t,i){var s=a(i,e+1),o=a(i,t+1);return s!==o?i.slice(Math.min(s,o),Math.max(s,o)):[]},u=o.Resize={trigger:n.trigger,width:function(){return t||e.innerWidth}};u[c]=[],s.each(["on","off","bind","unbind"],function(t){u[t]=function(i,o,r){n[t].call(this,i,o,r),this[c]=s.compact(s.map(s.keys(this._events||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),o.View=l.extend({constructor:function(e){l.call(this,e),this[c]&&u.on(this[c],this.resize,this)},resize:function(){this.render(),r.resetModule(this)},remove:function(){return this[c]&&u.off(this[c],this.resize,this),d.call(this)}}),i(function(){var s;t=s=u.width(),i(e).on("resize",function(){t=null;var e,i=u.width();i!==s&&(e=h(s,i,u[c]),e.length&&u.trigger(e.join(" "),i,s<i?"up":"down"),s=i)})})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.document,o=e.$;t.VideoModalView=t.ModalView.extend({required_template_sets:["links"],initialize:function(t){var i=this;this.options=t||{},this.overlay=e.document.getElementById("modal-overlay"),this.overlay.addEventListener("click",function(){i.hide()}),this.nonModalActiveElement=s.activeElement},ready:function(){if(this.options.playerId){(this.options.data||{}).ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},this.player=new i.MatterhornVideoPlayer(this.options.playerId,{video:this.options.data,autoPlay:!0,autoPlay_mute:!1,showEndCard:!1,showPauseCard:!0,hideLargePlayBtn:!0,clickToPlay:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,adTags:this.options.adTags},metaTags:this.options.metaTags,parentView:this.$(".video-wrapper")});var e=this.$el.find(".video-wrapper"),t=this.options.data;if(e){var s='<div class="video-info"><p class="title">'+t.title+"</p></div>";e.append(s)}}},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},render:function(){var e={playerId:this.options.playerId,videoEmbedUrl:this.options.videoEmbedUrl,title:this.options.title||null};return this.options.template.render(e,this.options.ctx_additions)},events:{"click #modal-close":function(){this.player&&this.player._unembed(),this.closeVideoModal()},keydown:function(e){var t="button, .modal-content, .modal-bottom",i=s.querySelector("#modal-container"),o=i.querySelectorAll(t),r=o[0],a=o[o.length-1];("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?s.activeElement===r&&(a.focus(),e.preventDefault()):s.activeElement===a&&(r.focus(),e.preventDefault()))}},hide:function(){this.player&&this.player._unembed(),this.closeVideoModal()},closeVideoModal:function(){var t=(this.player||{}).controls||{};t.stop&&t.stop(),this.$(".modal-info").remove(),o("#modal-window").removeClass("show"),e.document.documentElement.classList.remove("modal-no-scroll"),this.nonModalActiveElement.focus()},show:function(i){t.ModalView.prototype.show.apply(this,i),e.setTimeout(function(){o("#video-player").length&&o("#video-player").trigger("focus")},400)}})}(this),Whiskers("modules.slider",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.d("style_options.text_color",e,t,1),e,t,0,29,568,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> #ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_header .title h2, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .alt-display-name, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .description, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .title-link, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .actor-title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-details .desc { color: "),i.b(i.v(i.d("style_options.text_color",e,t,0))),i.b("; } "),i.s(i.d("config_options.allow_learn_more_color_override",e,t,1),e,t,0,427,507,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .details-text .learn-more{ color: "),i.b(i.v(i.d("style_options.text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" </style> ")}),e.pop()),s.b(" "),s.b(' <div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("peeking",e,t,1),e,t,1,0,0,"")||s.b(" no-peek"),s.s(s.f("showDetails",e,t,1),e,t,0,766,789,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" show_details_container")}),e.pop()),s.b('"> '),s.s(s.d("style_options.overlay_styles",e,t,1),e,t,0,841,875,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),s.b(" "),s.s(s.f("header_data",e,t,1),e,t,0,925,943,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.s(s.f("rich_text",e,t,1),e,t,0,974,1130,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,1029,1058,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('"> <div class="rich-text-output">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> </div> ")}),e.pop()),s.b(" "),s.b(' <div class="slides peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.s(s.d("header_data.icon_type",e,t,1),e,t,0,1221,1252,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" icon-"),i.b(i.v(i.d("header_data.icon_type",e,t,0)))}),e.pop()),s.s(s.f("show_episode_info",e,t,1),e,t,0,1300,1307,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" series")}),e.pop()),s.b('"> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b('" data-title="'),s.b(s.v(s.d("header_data.title",e,t,0))),s.b('"> '),s.s(s.f("pages",e,t,1),e,t,0,1415,1534,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" rows-"),i.b(i.v(i.f("rows",e,t,0))),i.b('"> '),i.b(i.rp("<partials/slider_page1",e,t,"")),i.b(" </ul> </li> ")}),e.pop()),s.b(' </ol> <div class="peek"></div> '),s.b(" </div> "),s.s(s.f("showDetails",e,t,1),e,t,0,1635,2280,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="slider-details-container lazy-deferred lazy-load"> <div class="aspect"> <img class="thumb" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('"> </div> <div class="details-text" tabindex=-1> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <p class="alt-display-name '),i.s(i.f("alt_display_name",e,t,1),e,t,1,0,0,"")||i.b("no-name"),i.b('">'),i.b(i.v(i.f("alt_display_name",e,t,0))),i.b('</p> <p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> "),i.s(i.f("config_options",e,t,1),e,t,0,2033,2246,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("config_options.learn_more_link",e,t,1),e,t,0,2069,2210,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("learn_more",e,t,0))),i.b('" class="learn-more'),i.s(i.f("learn_more",e,t,1),e,t,1,0,0,"")||i.b(" no-link"),i.b('" '),i.s(i.f("new_tab",e,t,1),e,t,0,2164,2182,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<href_target2",e,t,"")),i.b(" ")}),e.pop()),i.b(">Learn More</a> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),s.b(" "),s.s(s.f("seeAll",e,t,1),e,t,0,2308,2433,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="see-all-below"> <div class="see-all-container"> <a href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a> </div> </div> ")}),e.pop()),s.b(" "),s.s(s.d("config_options.open_gallery_modal",e,t,1),e,t,0,2483,2511,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<partials/slider_modal3",e,t,"")),i.b(" ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<partials/slider_page1":{name:"partials/slider_page",partials:{},subs:{}},"<href_target2":{name:"href_target",partials:{},subs:{}},"<partials/slider_modal3":{name:"partials/slider_modal",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_page",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<ul class="col-container cols-'),s.b(s.v(s.f("cols",e,t,0))),s.b(" rows-"),s.b(s.v(s.f("rows",e,t,0))),s.b('"> '),s.s(s.f("models",e,t,1),e,t,0,66,293,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="col item'),i.s(i.f("widthClass",e,t,1),e,t,0,101,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.s(i.f("hidden",e,t,1),e,t,0,142,156,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),i.b('"> '),i.b(" "),i.b(i.rp("<partials/slider_item0",e,t,"")),i.b(" </li> ")}),e.pop()),s.b(" </ul>"),s.fl()},partials:{"<partials/slider_item0":{name:"partials/slider_item",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("is_ad",e,t,1),e,t,1,0,0,"")||s.b(s.rp("<entity_container0",e,t,"")),s.b(" "),s.s(s.f("is_ad",e,t,1),e,t,0,52,66,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("adMarkup",e,t,0)))}),e.pop()),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("entities.entity_overlay_video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<a class="overlay-link '),s.s(s.f("is_playlist",e,t,1),e,t,0,39,57,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" overlay-link-mask")}),e.pop()),s.b('" href="'),s.s(s.f("is_playlist",e,t,1),e,t,0,97,113,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("content_path",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("is_playlist",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.d("video.href",e,t,0))),s.b('"> <div class="overlay-video '),s.s(s.f("is_playlist",e,t,1),e,t,0,221,238,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" overlay-playlist")}),e.pop()),s.b('"> '),s.s(s.d("video.thumb_data",e,t,1),e,t,0,278,412,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("video.thumb_data.src",e,t,1),e,t,0,304,386,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.d("video.thumb_data.src",e,t,0))),i.b('" class="overlay-bg" alt="'),i.b(i.v(i.d("video.alt_text",e,t,0))),i.b('"> ')}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("is_playlist",e,t,1),e,t,0,450,524,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="video-collection-count"> <span>'),i.b(i.v(i.f("video_count",e,t,0))),i.b("</span> </div> ")}),e.pop()),s.b(" </div> </a>"),s.fl()},partials:{},subs:{}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs=t()}(this,function(){"use strict";var e="millisecond",t="second",i="minute",s="hour",o="day",r="week",a="month",n="quarter",l="year",d="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,i){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(i)+e},p={s:u,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),s=Math.floor(i/60),o=i%60;return(t<=0?"+":"-")+u(s,2,"0")+":"+u(o,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var s=12*(i.year()-t.year())+(i.month()-t.month()),o=t.clone().add(s,a),r=i-o<0,n=t.clone().add(s+(r?-1:1),a);return+(-(s+(i-o)/(r?o-n:n-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:a,y:l,w:r,d:o,D:d,h:s,m:i,s:t,ms:e,Q:n}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",g={};g[m]=f;var _=function(e){return e instanceof w},v=function(e,t,i){var s;if(!e)return m;if("string"==typeof e)g[e]&&(s=e),t&&(g[e]=t,s=e);else{var o=e.name;g[o]=e,s=o}return!i&&s&&(m=s),s||!i&&m},y=function(e,t){if(_(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new w(i)},b=p;b.l=v,b.i=_,b.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var w=function(){function u(e){this.$L=this.$L||v(e.locale,null,!0),this.parse(e)}var p=u.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(c);if(s){var o=s[2]-1||0,r=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(e,t){var i=y(e);return this.startOf(t)<=i&&i<=this.endOf(t)},p.isAfter=function(e,t){return y(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<y(e)},p.$g=function(e,t,i){return b.u(e)?this[t]:this.set(i,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,n){var c=this,h=!!b.u(n)||n,u=b.p(e),p=function(e,t){var i=b.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return h?i:i.endOf(o)},f=function(e,t){return b.w(c.toDate()[e].apply(c.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},m=this.$W,g=this.$M,_=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case l:return h?p(1,0):p(31,11);case a:return h?p(1,g):p(0,g+1);case r:var y=this.$locale().weekStart||0,w=(m<y?m+7:m)-y;return p(h?_-w:_+(6-w),g);case o:case d:return f(v+"Hours",0);case s:return f(v+"Minutes",1);case i:return f(v+"Seconds",2);case t:return f(v+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(r,n){var c,h=b.p(r),u="set"+(this.$u?"UTC":""),p=(c={},c[o]=u+"Date",c[d]=u+"Date",c[a]=u+"Month",c[l]=u+"FullYear",c[s]=u+"Hours",c[i]=u+"Minutes",c[t]=u+"Seconds",c[e]=u+"Milliseconds",c)[h],f=h===o?this.$D+(n-this.$W):n;if(h===a||h===l){var m=this.clone().set(d,1);m.$d[p](f),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[b.p(e)]()},p.add=function(e,n){var d,c=this;e=Number(e);var h=b.p(n),u=function(t){var i=y(c);return b.w(i.date(i.date()+Math.round(t*e)),c)};if(h===a)return this.set(a,this.$M+e);if(h===l)return this.set(l,this.$y+e);if(h===o)return u(1);if(h===r)return u(7);var p=(d={},d[i]=6e4,d[s]=36e5,d[t]=1e3,d)[h]||1,f=this.$d.getTime()+e*p;return b.w(f,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var i=e||"YYYY-MM-DDTHH:mm:ssZ",s=b.z(this),o=this.$locale(),r=this.$H,a=this.$m,n=this.$M,l=o.weekdays,d=o.months,c=function(e,s,o,r){return e&&(e[s]||e(t,i))||o[s].substr(0,r)},u=function(e){return b.s(r%12||12,e,"0")},p=o.meridiem||function(e,t,i){var s=e<12?"AM":"PM";return i?s.toLowerCase():s},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:n+1,MM:b.s(n+1,2,"0"),MMM:c(o.monthsShort,n,d,3),MMMM:c(d,n),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:c(o.weekdaysMin,this.$W,l,2),ddd:c(o.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:b.s(r,2,"0"),h:u(1),hh:u(2),a:p(r,a,!0),A:p(r,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:s};return i.replace(h,function(e,t){return t||f[e]||s.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(e,d,c){var h,u=b.p(d),p=y(e),f=6e4*(p.utcOffset()-this.utcOffset()),m=this-p,g=b.m(this,p);return g=(h={},h[l]=g/12,h[a]=g,h[n]=g/3,h[r]=(m-f)/6048e5,h[o]=(m-f)/864e5,h[s]=m/36e5,h[i]=m/6e4,h[t]=m/1e3,h)[u]||m,c?g:b.a(g)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),s=v(e,t,!0);return s&&(i.$L=s),i},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},u}(),k=w.prototype;return y.prototype=k,[["$ms",e],["$s",t],["$m",i],["$H",s],["$W",o],["$M",a],["$y",l],["$D",d]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e(t,w,y),y},y.locale=v,y.isDayjs=_,y.unix=function(e){return y(1e3*e)},y.en=g[m],y.Ls=g,y}),function(e){"use strict";var t=function(t,i,s,o,r,a,n,l){var d=e.dayjs,c=i||{},h=s||{},u=c.streaming_now||"Streaming Now",p=c.streaming||"Streaming",f=c.on_blu_ray_dvd||"On Blu-Ray & DVD",m=c.on_blu_ray_dvd_digital||"On Blu-Ray, DVD, Digital",g=c.now_on_digital||"Now on Digital",_=c.on_digital||"On Digital",v=c.available_to_pre_order||"Available to Preorder",y=c.in_theaters_now||"In Theaters Now",b=c.in_theaters||"In Theaters",w=c.coming_soon||"Coming Soon",k=parseInt(h.coming_soon,10)||200,x=parseInt(h.available_to_preorder,10)||30,$=parseInt(h.on_digital,10)||15,D=parseInt(h.streaming,10)||14,S="YYYY-MM-DD",M=l&&l.release?d(l.release,S):null,A=l&&l.digital_released_on?d(l.digital_released_on,S):null,C=l&&l.streaming_released_on?d(l.streaming_released_on,S):null,I=l&&l.physical_released_on?d(l.physical_released_on,S):null;return d().isSame(C,"day")?u:d().isAfter(C)?u:d().add(D,"d").isAfter(C,"day")?p+" "+a:d().isSame(I,"day")?r?m:f:d().isSame(A,"day")?g:d().isAfter(A)&&d().isBefore(I)&&!C?g:d().isAfter(A)&&I&&d().isAfter(I)?m:d().add($,"d").isAfter(A)?"\u30c7\u30b8\u30bf\u30eb\u914d\u4fe1"===_?r+" "+_:_+" "+r:d().add(x,"d").isAfter(A)?v:d().isAfter(I,"day")&&!r?f:d().isSame(M,"day")?y:d().isAfter(M)?y:M&&M.isAfter(d())&&d().add(k,"d").isAfter(M)?"\u5287\u5834\u516c\u958b"===b?o+" "+b:b+" "+o:M&&M.isAfter(d().add(200,"d"))?w:!o&&w};e.MovieDate={formatReleaseDate:t}}(this),Whiskers("partials.href_target",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('target="_blank" '),s.s(s.f("ignore_no_referrer",e,t,1),e,t,1,0,0,"")||s.b(' rel="noopener noreferrer" '),s.fl()},partials:{},subs:{}}),Whiskers("modals.video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-info'),s.s(s.f("playerId",e,t,1),e,t,0,35,49,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" native-player")}),e.pop()),s.b('" '),s.s(s.f("title",e,t,1),e,t,0,74,110,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('aria-label="'),i.b(i.v(i.f("title",e,t,0))),i.b('" role="dialog"')}),e.pop()),s.b('> <button id="modal-close" class="top-right hidden ada-el-focus" aria-label="Close dialog" tabindex="0"></button> <div class="modal-content"> <div class="video-wrapper" id="video-player" tabindex="-1"> '),s.s(s.f("videoEmbedUrl",e,t,1),e,t,0,340,481,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <iframe class="video-iframe" width="100%" height="100%" src="'),i.b(i.v(i.f("videoEmbedUrl",e,t,0))),i.b('" frameborder="0" allow="autoplay" allowfullscreen> </iframe> ')}),e.pop()),s.b(" "),s.s(s.f("playerId",e,t,1),e,t,0,513,581,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('-container"><div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('"></div></div>')}),e.pop()),s.b(' </div> </div> <div class="modal-bottom" tabindex="0"></div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.jQuery;t.SliderModalView=t.ModuleView.extend({initialize:function(){this.slider=null,this.gallery=null,this.currentImage=0,this.maxSlides=0,this.isTransition=!1},open:function(t){var s=this;if(this.isTransition=!1,this.gallery!==t){this.slider=i(t.$el).parents("section"),this.gallery=t,this.currentImage=0;var o=this.gallery.model.attributes.gallery_images,r=o.map(function(e){return s.getSlideItem(e)}).join("");this.maxSlides=o.length-1,this.slider.find(".slider-modal-gallery-footer-max").html(o.length),this.slider.find(".slider-modal-gallery-footer-current").html(1),this.slider.find(".slider-modal-gallery-footer-title").html(this.gallery.model.attributes.title),this.slider.find(".slider-modal-gallery-slides-container").html(r)}this.slider.find(".slider-modal-gallery-background").fadeIn("fast",function(){s.slider.find(".slider-modal-gallery-slide").eq(s.currentImage).fadeIn("fast")}),e.window.addEventListener("keydown",function(e){s.keypressHandler(e,s)},!1),this.slider.find(".slider-modal-gallery-close-modal").focus()},move:function(e){if(!this.isTransition){var t=this;this.isTransition=!0,this.slider.find(".slider-modal-gallery-slide").eq(this.currentImage).fadeOut("fast",function(){e>0?t.currentImage=t.currentImage===t.maxSlides?0:t.currentImage+1:e<0&&(t.currentImage=0===t.currentImage?t.maxSlides:t.currentImage-1),t.slider.find(".slider-modal-gallery-slide").eq(t.currentImage).fadeIn("fast"),t.slider.find(".slider-modal-gallery-footer-current").html(t.currentImage+1),t.isTransition=!1})}},close:function(){var t=this;this.slider.find(".slider-modal-gallery-background").fadeOut("fast"),e.window.removeEventListener("keydown",function(e){t.keypressHandler(e,t)},!1)},keypressHandler:function(e,t){switch(e.keyCode||e.which){case 27:t.close();break;case 37:t.move(-1);break;case 39:t.move(1)}},getSlideItem:function(e){return'<li class="slider-modal-gallery-slide" tabindex="0"><div><img src="'+e.image+'" alt="'+e.caption+'" class="img_wrapper"/><p>'+e.caption+"</p></div></li>"}})}(this),Whiskers("partials.slider_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="slider-modal-gallery-background"> <div class="slider-modal-gallery-container"> <div class="slider-modal-gallery-header"> <span class="slider-modal-gallery-close-modal" tabindex="0" aria-label="close"></span> </div> <div class="slider-modal-gallery-arrow move-prev" tabindex="0" role="text" aria-label="previous"> <span class="slider-modal-gallery-arrow-prev"></span> </div> <div class="slider-modal-gallery-slides"> <ul class="slider-modal-gallery-slides-container"></ul> </div> <div class="slider-modal-gallery-arrow move-next" tabindex="0" role="text" aria-label="next"> <span class="slider-modal-gallery-arrow-next" ></span> </div> <div class="slider-modal-gallery-footer"> <span class="slider-modal-gallery-footer-title" tabindex="0"></span> <div class="slider-modal-gallery-footer-counter" tabindex="0"> <span class="slider-modal-gallery-footer-current"></span> of <span class="slider-modal-gallery-footer-max"></span> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Backbone,o=s.View,r=e.Whiskers,a=e.MovieDate,n=i.Style.breakpoints,l=i.Style.custom_breakpoints,d=s.Resize.width,c=e.jQuery,h=e._,u=h.values(n),p=null,f=function(e){return null!=e&&(e=c.trim(e).toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")),e},m=e.SwipeView=t.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:u.join(" "),template:r.modules.slider,assets:{scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-ab340b2272bc.js"]},included_components:{"partials/slider_modal":r.partials.slider_modal},events:{slide:function(e,t){e.preventDefault(),this.$(".slides").toggleClass("peeking",t!==this.collection.lastIndex(this.rpp()));var i=this.rpp()*(t+1),s=this.cols(),o=i+s,r=this.collection.first(o);if(this.$pages&&t>0){var a=c(this.$pages[t]).find(".item"),n=c(this.$pages[t+1]).find(".item").slice(0,this.rows());a.add(n).enableLazyLoad().loadLazyImages()}h.each(r,function(e){e.set({hidden:!1})}),this.currentPage=t,this.$(".entity-link.title-link").attr("tabindex",-1)},"click .youtube-url":function(t){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},o=i.open_youtube_lightbox,r=s.age_gate;if(o){t.stopPropagation(),t.preventDefault();var a=c(t.currentTarget),n=a[0].getAttribute("data-youtube-id"),l=["https://www.youtube.com/embed/",n,"?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque&autoplay=1;enablejsapi=1&rel=0"].join(""),d=this,h=function(){d.launchVideoModal({videoEmbedUrl:l,title:a[0].getAttribute("data-title")||a[0].getAttribute("aria-label")})},u={triggerModal:h,age:r};r?e.Disney.AgeGate.triggerAgeGateProcess(u):h()}},"click .entity-type-video":function(t){var i=this.model.get("config_options")||{},s=this.model.get("custom_options")||{},o=i.open_native_video_lightbox,r=s.age_gate;if(o){t.stopPropagation(),t.preventDefault();var a=c(t.currentTarget.parentNode).index(),n=this.currentPage*this.rppVal+a,l=this,d=l.model.get("data")[n]||{},h=function(){l.launchVideoModal({data:d.video?d.video:d,playerId:["player",l.model.get("ref"),l.currentPage,a,n].join("-")})},u={triggerModal:h,age:r};r?e.Disney.AgeGate.triggerAgeGateProcess(u):h()}},"click .see-all-link":function(e){this.triggerAgeGateProcess(e)},"click .slider-modal-gallery-close-modal":function(e){e.preventDefault(),p.close()},"keypress .slider-modal-gallery-close-modal":function(e){e.preventDefault(),p.close()},"click .slider-modal-gallery-arrow":function(e){e.preventDefault(),p.move(c(e.currentTarget).hasClass("move-prev")?-1:1)},"keypress .slider-modal-gallery-arrow":function(e){e.preventDefault(),p.move(c(e.currentTarget).hasClass("move-prev")?-1:1)}},launchVideoModal:function(e){var i=(this.model||{}).collection||{};new t.VideoModalView({template:r.modals.video,name:"video-modal",ctx_additions:this.ctx_additions(),videoEmbedUrl:e.videoEmbedUrl,data:e.data,playerId:e.playerId,adTags:(i.adTags||{}).desktop,metaTags:i.meta_tags,cds:this.options.cds,noAds:this.options.noAds,title:e.title||null}).show()},ctoTitle:function(){var e=this.model.get("title");return f(e)},triggerAgeGateProcess:function(t){t.preventDefault();var s=this.model.get("custom_options"),o=this.model.get("config_options"),r=o.see_all_options&&o.see_all_options.new_tab,a=s&&s.age_gate,n=r?"_blank":"_self",l=t.currentTarget.href,d={age:a,href:l,target:n};a?i.AgeGate.triggerAgeGateProcess(d):e.window.open(l,n)},initialize:function(o){this.options=o||{};var r=this.model.get("config_options"),a=this.model.get("style_options");this.model.data.set(this.model.data.models.filter(function(e){return"Recommendation"!==e.get("type")})),this.collection=new s.LazySliderCollection(this.model.data.models);var n=h.chain(this.collection.pluck("entity_type")).compact().uniq().first().value();if(h.extend(this,{entity_type:n||this.model.get("type"),lastPage:0,startingCount:this.index=this.collection.startingIndex,slideTime:500,init:!1,translations:this.model.get("translations")||{}}),this.collection.on("remove",function(){this.resize()},this),this.needsGuestContext()&&i.guest.retain(),this.configureData&&this.configureData(),this.stylePack=this.model.collection&&this.model.collection.style,this.customSliderStyles=this.stylePack&&this.stylePack.custom_slider_styles,this.customSliderStyles){this.sliderLeftPeek=this.customSliderStyles.slider_left_peek;var l=this&&this.customSliderStyles,d=l&&l.left_arrow_svg||"",c=l&&l.left_arrow_hover_svg||"",u=d&&d.indexOf("?");this.leftArrowSvg=u>=1?d.split("?")[0]:d,this.leftArrowHoverSvg=u>=1?c.split("?")[0]:c}(this.sliderLeftPeek?this.align_arrows_vert="thumbnail":this.customSliderStyles&&this.customSliderStyles.align_arrows_vert?this.align_arrows_vert=this.customSliderStyles.align_arrows_vert:a&&a.custom_arrow_options&&a.custom_arrow_options.align_arrows_vert?this.align_arrows_vert=a.custom_arrow_options.align_arrows_vert:this.align_arrows_vert||(this.align_arrows_vert="content"),r&&r.open_native_video_lightbox)&&((this.model.get("data")||[]).some(function(e){return e.flavors})&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-ab340b2272bc.js"]}));if(r&&r.exclude_current_page){var f=t.burger.id,m=t.burger.href,g=this.collection.models;if(f&&g&&(g=h.without(g,h.findWhere(g,{id:f})),this.collection.models=g),m&&g){var _=h.filter(g,function(e){return e.attributes.href!==m});this.collection.models=_}}p=new e.Grill.SliderModalView},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return d()>=n.midHigh},getItemsPerRow:function(e){var t=d();return e&&t<=n.max?Math.min(e,4):e&&t<=n.midHigh?Math.min(e,2):e},render:function(){var e=this,t=e.model,i=e.cols(),s=e.rows(),o=e.rpp(),a=e.details;e.pages=this.collection.page(this.index,o,s,i),this.formatFeatured&&this.formatFeatured();var n=this.getDeviceSize(),l=this.model.get("config_options"),d=h.extend({rpp:o,cols:i,rows:s,peeking:this.peeking(o),entity_type:e.entity_type,seeAll:t.get("seeAll"),config_options:l,showDetails:a,href_target:r.partials.href_target,image_asset_src:function(){return this.getSizedImage(this,n)}},this.options.ads.helpers(this.model.toJSON(),this.getAdPosition()),this.model);e.length=e.pages.length,e.$el.html(e.template.render(d,this.ctx_additions())),this.renderPages(),this.adListeners()},matchDetailHeights:function(){var e=this.$(".entity-container.match-detail-height");e.css("min-height","inherit");var t=e.map(function(){return c(this).height()}).get(),i=Math.max.apply(null,t);e.css("min-height",i)},renderPages:function(){var e=this,t=e.cols(),i=e.rows(),s=e.rpp();e.rppVal=s,e.pageViews=[],e.itemViews=[],e.pages&&(e.itemViews=e.createItemViews(),e.pages.forEach(function(o,r){if(o.models.length>0){var a=e.createPageView(t,i);e.pageViews.push(a),e.appendPageView(a);e.itemViews.slice(r*s,(r+1)*s).forEach(function(e){a.appendItemView(e)})}}))},ready:function(){var t=e.window.innerWidth>n.midLow,s=t&&this.$(".slider-page").length>1,o=!(!s||!this.sliderLeftPeek),r=this.peekAmount(),a=this.sliderLeftPeek,l=this&&this.transformAmount&&this.transformAmount()||0,d=this.translations||{},c=this.rpp(),h=this.model.get("config_options"),u=h&&h.define_item_number,p=u&&u>c+c*this.index&&u-1<this.collection.length,f=p?Math.floor(u/c):this.index,m=this.model.get("view")||"";if(this.$(".dots").remove(),this.init=!0,this.$(".slides ol").swipeasaurus({moduleName:this.el.dataset.module,modulePosition:this.el.localName,arrows:!0,prevLabel:d.previous_slide||"Previous",nextLabel:d.next_slide||"Next",ofLabel:d.of||"of",loop:!1,right:r,leftArrow:a,left:o?r:0,index:this.index,activeIndex:f,speed:this.slideTime,rtl:i.rtl,dots:this.show_dots,transformAmount:l}),this.init=!1,this.$pages=this.$(".slides ol > li"),o&&"seo_link_slider"!==m){var g=100*r+"%";this.alignArrowsHoriz(g),this.alignHeaderLeft(g)}(this.leftArrowSvg&&t||"starwars"===this.model.collection.site_code)&&this.injectLeftArrowSvg(),"thumbnail"===this.align_arrows_vert&&this.rows()<2&&"seo_link_slider"!==m&&this.alignArrowsVert(),this.$(".entity-link.title-link").attr("tabindex",-1),this.hasEmptyAdSlot&&this.removeEmptyAdSlot(),this.matchDetailHeights()},resize:function(){var e=this,t=e.pages,i=e.cols(),s=e.rows(),o=e.rpp(),r=e.peeking(),a=e.peekAmount(),n=e.rppVal||o,l=0,d=0;e.rppVal=o,e.pages=e.collection.page(e.index,o,s,i),e.$slides=c(".slides, .slides ol"),l=Math.max(0,e.pages.length-t.length),d=Math.max(0,t.length-e.pages.length),l&&h.times(l,function(){var t=e.createPageView(i,s);e.appendPageView(t),e.pageViews.push(t)}),e.pages.forEach(function(t,r){e.itemViews.slice(r*o,(r+1)*o).forEach(function(t){e.pageViews[r].appendItemView(t).updateColRows(i,s)})}),d&&h.times(d,function(){e.pageViews.pop().remove()}),o&&n&&o!==n&&e.$slides.removeClass("peek-"+n).addClass("peek-"+o),r&&a>0?(e.$slides.removeClass("peek-"+n),e.$slides.addClass("peek-"+o),e.$(".bound").removeClass("no-peek")):e.$(".bound").addClass("no-peek"),e.ready()},peeking:function(e){return!!this.collection.peeking&&this.collection.peeking(e)},rows:function(){return(this.model.get("config_options")||{}).num_rows||1},rpp:function(){return this.cols()*this.rows()},cols:function(){var e=d(),t=this.wide(),i=this.collection.first(),s=i&&i.get("entity_config"),o=s&&s.aspect_ratio,r=this.model.get("style_options").items_per_row_override;if(r&&t)return this.getItemsPerRow(r);switch(o){case"poster":case"dvd_case":case"letter":return t?4:e>=n.midLow?3:2;case"baseball_card":return e>=n.max?5:t?4:e>=n.midLow?3:2;case"square":return e>=n.max?4:t?3:2;case"16x9":case"4x3":case"poster_landscape":return t?3:e>=n.midLow?2:1;case"widescreen":return e>=n.midHigh?2:1;default:return t?3:2}},createPageView:function(e,t){return new _({cols:e,rows:t})},
appendPageView:function(e){this.$(".slides ol").append(e.$el)},createItemViews:function(){var e=this,t=e.model&&e.model.get("config_options")||{},i=e.model&&e.model.get("style_options"),s=e.collection&&e.collection.first().get("entity_config"),o=e.model&&e.model.get("translations"),r=e.model&&e.model.get("data"),l=r&&r[0]&&r[0].item_titles_below,d=t&&t.display_movie_release_date,c=t&&t.display_external_link_description,u=t&&t.phase_message_below,p=s&&s.display_actor_name,f=t&&t.title_text_display,m=t&&t.display_link_only,_=t&&t.open_links_in_new_tab,v=r&&r.length,y=e.getDeviceSize(),b=s&&s.aspect_ratio,w=i&&i.slider_item_background_color,k=t&&t.define_item_number,x=this.rppVal;return e.collection.map(function(t,i){k&&k<=e.collection.length&&k>x&&i>=x&&i<Math.ceil(k/x)*x&&t.set("hidden",!1);var r={model:t,translations:e.translations,index:i+1,total:v},$=t.attributes,D=$&&$.entity_config,S=D&&D.hasOwnProperty("show_character_title")&&D.show_character_title;if(r.hide_slider_titles=!l||S,$&&"externallink"===$.section_label&&(r.title=$.short_title||$.title,c&&(r.short_desc=$.short_desc||$.description,r.display_externallink_description="external-link-description")),d){var M=t.get("release"),A=t.get("digital_released_on"),C=t.get("streaming_released_on"),I=t.get("physical_released_on"),V=h.extend(o,e.model.collection.translations),P=e.model.collection.movie_date_config;r.movie_release_date_formatted=a.formatReleaseDate(t.get("title"),V,P,M,A,C,I,t.get("raw_dates"))}if(u){r.display_phase_message=u;var L=t.get("phase_message")||t.get("phase"),H=o||{},T=H.teaser_theatrical||"Teaser Theatrical"||"Teaser Streaming",z=H.teaser_theatrical||"Theatrical",E=H.digital||"Home Ent: Digital",O=H.digital||"Home Ent: DVD",N=H.now_on_dvd||"Now on DVD",j=H.blueray||"Home Ent: Blu-ray",q=H.digital_blueray||"Home Ent: Digital & Blu-ray",W=H.digital_dvd||"Home Ent: Digital & DVD",B=H.digital_dvd||"Home Ent: Blu-ray, DVD & Digital",U=H.blueray_dvd||"Home Ent: Blu-ray & DVD",Y=H.streaming_dvd||"Home Ent: Streaming & DVD",R=H.streaming_blueray||"Home Ent: Streaming & Blu-ray",G=H.streaming_digital||"Home Ent: Streaming & Digital",F=H.now_on_streaming_digital||"Now Streaming & on Digital",J=H.now_streaming_blueray||"Now Streaming & on Blu-ray",Q=H.now_streaming_dvd||"Now Streaming & on DVD",Z=H.now_on_blueray_dvd||"Now on Blu-ray & DVD",K=H.now_on_blueray_dvd_digital||"Now on Blu-ray, DVD, & Digital",X=H.now_on_digital_dvd||"Now on Digital & DVD",ee=H.now_on_digital_blueray||"Now on Digital & Blue-ray",te=H.now_on_digital||"Now on Bluray",ie=H.now_on_digital||"Now on Digital",se=H.in_theaters||"In Theaters",oe=H.streaming||"Streaming",re=H.in_theaters_now||"In Theaters Now",ae=t.get("release");L&&(r.phase_message_output=L),L===T&&(r.phase_message_output=se+" "+ae),L===oe&&(r.phase_message_output=oe+" "+ae),L===z&&(r.phase_message_output=re),L===E&&(r.phase_message_output=ie),L===O&&(r.phase_message_output=N),L===j&&(r.phase_message_output=te),L===q&&(r.phase_message_output=ee),L===W&&(r.phase_message_output=X),L===B&&(r.phase_message_output=K),L===U&&(r.phase_message_output=Z),L===Y&&(r.phase_message_output=Q),L===R&&(r.phase_message_output=J),L===G&&(r.phase_message_output=F)}if("character_details"===t.get("entity_type")||"personality"===t.get("entity_type")){var ne=t.get("title"),le=t.get("entity_config")&&t.get("entity_config").show_character_title;ne&&!le&&(r.actor_title=ne)}if(p){var de=t.get("alt_display_name");de&&(r.actor_name=de)}if("flexgrid"===t.get("entity_type")){var ce=t.get("image_assets"),he=ce&&ce.background;r.image_asset_src=e.getSizedImage(he,y)}if(t.get("featured_image")){var ue=t.get("images"),pe="16x9"===b&&"_16x9"||"square"===b&&"_1x1"||"4x3"===b&&"_4x3"||"",fe="featured_image"+pe;r.thumb_data={src:ue[fe]}}var me=t.get("entity_type");if(["episode","gallery","artifact"].includes(me)||"externallink"===t.get("section_label")){var ge=t.get("images"),_e=e.getSizedImage(ge,y),ve=s&&s.aspect_ratio,ye=y+"_"+ve,be="";_e&&(_e[ye]||(ye="square"===ve?y+"_1x1":"mobile"===y?"desktop_"+ve:"mobile_"+ve),(be=_e[ye]&&(_e[ye].cdn_url||_e[ye].base_url))&&(r.thumb_data={src:be}))}if(t.get("is_encyclopedia_entry")){y=e.getDeviceSize(n.max);var we=t.get("images"),ke=we&&we.desktop&&we.desktop.desktop_16x9;t.get("is_character")&&"default"!==t.get("entity_type")&&(ke=we&&we.desktop&&we.desktop.desktop_1x1);var xe=t.get("item_aspect_ratio_override");if(xe){var $e=xe.split("_").length>1&&xe.split("_")[1];if("square"===$e)ke=we&&we.desktop&&we.desktop.desktop_1x1;else{var De="desktop_"+$e;ke=we&&we.desktop&&we.desktop[De]}}r.entry_thumb=ke}if(e.$el.hasClass("details_slider")&&("encyclopedia"===t.get("entity_type")||"unstyled_entity"===t.get("entity_type"))){var Se=t.get("title");!Se||"below"!==f&&"overlay"!==f||(r.actor_title=Se)}if(f&&("below"===f&&(r.title_display="title-below"),"overlay"===f&&(r.title_display="title-overlay"),"no_title"===f&&(r.title_display="no-title")),m){var Me=r.model.attributes.href,Ae=r.model.attributes.url||r.model.attributes.character_link_url;r.model.attributes.href="#"!==Me?Me:Ae}if(t.get("enable_anchor_tag")&&(r.anchor_tag=r.model.attributes.url||r.model.attributes.character_link_url),_&&(r.new_tab=!0),w){var Ce=t.get("override_styles")||"";r.override_styles=Ce+" background-color: "+w+";"}return new g(r)})},getSizedImage:function(e,t){return e&&(e[t]||h.first(h.values(e)))},getDeviceSize:function(e){var t=e||n.midHigh;return s.Resize.width()>=t?"desktop":"mobile"},adListeners:function(){var e=this,t=this.$(".gpt");if(t.length){var i=this.options.ads.findSlotById(t.attr("id"));i&&i.events.on("slotRenderEnded",function(t){t.isEmpty&&e.removeEmptyAdSlot()})}else e.removeEmptyAdSlot()},getAdPosition:function(){if(!this.options.cds)return this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model)},removeEmptyAdSlot:function(){var e=h.find(this.itemViews,function(e){return!0===e.model.get("is_ad")});if(e){var t=this.itemViews.indexOf(e);if(t>=0&&this.itemViews.splice(t,1),this.collection.remove(e.model),this.hasEmptyAdSlot=!1,this.$pages&&this.$pages.length>1){c(this.$pages[1]).find(".item").slice(0,this.rows()).enableLazyLoad().loadLazyImages()}}},alignArrowsHoriz:function(e){var t=this.$(".next"),s=this.$(".prev"),o=this.model.get("data")||this.model.data;o[0]&&o[0].item_titles_below&&this.$(".entity-details").addClass("visible"),i.rtl?(t.css("left",e),s.css("right",e)):(t.css("right",e),s.css("left",e))},alignArrowsVert:function(){var e=this.$(".next"),t=this.$(".prev"),i=e.first()&&e.first().outerHeight()||t.first()&&t.first().outerHeight(),s=this.$(".slider-page").first(),o=s.outerHeight(),r=parseInt(s.css("padding-top"),10),a=this.$(".slider-page img").first().outerHeight(),n=o-a;e.add(t).css("margin-top",r-n/2+i/4)},alignHeaderLeft:function(e){this.$(".module_header").closest(".slider-view").hasClass("header-center")||this.$(".module_header").css("left",e)},injectLeftArrowSvg:function(){if(!this.leftArrowInjected){var e=c("button.next",this.el),t=c("button.prev",this.el);this.updateArrowStyles(e),this.updateArrowStyles(t),this.leftArrowInjected=!0}},updateArrowStyles:function(t){var i,s=this.customSliderStyles.slider_color_theme,o=this.customSliderStyles.button_color_override,r=this.customSliderStyles.arrow_color_override;if(s&&t.addClass(s),t.addClass("inject-left-arrow-svg"),r)i=r;else if("main-background"===s){var a=this.stylePack.page_background_styles&&this.stylePack.page_background_styles.bg_color;i=a||"#1938ce"}o&&(t.removeClass(s),t.css("background-color",o)),c.get(this.leftArrowSvg,function(e){var s=c(e).find("svg")[0];s&&(i?c(s).find("[fill]").attr("fill",i):c(s).find("[fill]").prop("fill",!1),t.html(s)),t.html(s),t.css("background-image","none"),t.mouseout(function(e){c(e.target).closest("button").html(s)})},"xml"),this.leftArrowHoverSvg&&!e.window.matchMedia("(pointer: coarse)").matches&&c.get(this.leftArrowHoverSvg,function(e){var i=c(e).find("svg")[0];t.css("background-image","none"),t.mouseover(function(e){c(e.target).closest("button").html(i)})},"xml")}}),g=o.extend({template:r.partials.slider_item,tagName:"li",className:"col item",events:{"click .open-gallery-modal":function(e){e.preventDefault(),p.open(this)}},initialize:function(e){this.options=e||{},this.model=this.options.model,this.model.on("remove",function(){this.remove()},this),this.render(),this.addCssClasses()},render:function(){var e={item:r.entities.item,entity_container:r.entities.entity_container,"entities/entity_play_icon":r.entities.entity_play_icon,"entities/entity_overlay_video":r.entities.entity_overlay_video,"entities/entity_item_count":r.entities.entity_item_count,image_attributes:r.partials.image_attributes,href_attributes:r.partials.href_attributes,href_target:r.partials.href_target},t=h.extend(this.model.toJSON(),this.options),i=t.href||"",s=this.options.translations||{},o=["https://youtu.be","https://youtube.com","https://www.youtube.com"],a=h.find(o,function(e){return i.startsWith(e)}),n=t.item_aspect_ratio_override,l=n&&"thumb_square"===n,d=this.model.get("config_options")||{},c=d.open_youtube_lightbox,u=d.open_native_video_lightbox,p=c&&a,f=u&&t.has_video_page,m=!(!t.model.attributes||!t.model.attributes.gallery_images);t.config_options&&t.config_options.open_gallery_modal&&(t.config_options.open_gallery_modal=!(!t.config_options.open_gallery_modal||!m)),t.is_youtube=a;var g=s.play_video||"Play video",_=p||f?" - "+g:"";t.aria_label=this.model.get("title")+" "+this.options.index+(s.ofLabel||" of ")+this.options.total+_,t.desktop_base_thumb=l?t.desktop_square_thumb:t.desktop_base_thumb,this.$el.html(this.template.render(t,e))},addCssClasses:function(){var e=[];this.model.get("hidden")&&e.push("lazy-deferred"),this.model.get("widthClass")&&e.push(this.model.get("widthClass")),e.length&&this.$el.addClass(e.join(" "))}}),_=o.extend({template:r.partials.slider_page,tagName:"li",className:"slider-page",initialize:function(e){this.options=e||{},h.defaults(this.options,{cols:1,rows:1}),this.render()},updateColRows:function(e,t){e&&e!==this.options.cols&&(this.updateClass("cols",this.options.cols,e),this.options.cols=e),t&&t!==this.options.rows&&(this.updateClass("rows",this.options.rows,t),this.options.rows=t)},updateClass:function(e,t,i){this.$el.children("ul").removeClass(e+"-"+t).addClass(e+"-"+i)},appendItemView:function(e){return this.$("ul").append(e.$el),this},render:function(){this.$el.html(this.template.render(this.options))}});m.register("slider",{}),m.register("seo_link_slider",{}),m.register("characters",{cols:function(){var e=d(),t=this.wide();return e>=n.max?5:t?4:e>=n.midLow?3:2}}),m.register("slider_rfy",{cols:function(){var e=this.wide(),t=this.model.get("style_options").items_per_row_override;return t&&e?this.getItemsPerRow(t):e?3:2},initialize:function(e){this.options=e||{},h.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.collection=this.model.data,this.fetchData()},fetchData:function(){var e=this,t=i.Recommender,s=this.collection.first(),o=s&&s.toJSON()||{};h.extend(o,{entity_overrides:{title_overlay:!1}}),t.getRecommendations(o).done(function(t){e.renderFetchedData(t)}).fail(function(){var t=e.model.get("data").slice(1);t.length&&e.renderFetchedData(t)})},renderFetchedData:function(e){var t=new s.Collection(e);this.collection=new s.LazySliderCollection(t.models),this.render(),this.ready(),this.$el.removeClass("temp-hidden").loadLazyImages()}}),m.register("featured_promo_slider",{numFeatured:1,configureData:function(){var e=this;i.geo(function(t,i,o){var r=e.numFeatured,a=e.placeholders=[];if(o){var n=e.collection.where({location:o});e.collection.remove(n),e.collection.add(n,{at:0})}if(r)for(var l={widthClass:"featured",featured:!0},d=new s.Model({widthClass:"empty_placeholder"}),c=0;c<r;c++)a.push(d),e.collection.at(c).set(l)})},formatFeatured:function(){var e=this.wide();this.collection.each(function(t){if(t.get("featured")&&e){var i=t.get("promo_featured");t.set("thumb_data",{src:i})}else{var s=t.get("promo");t.set("thumb_data",{src:s})}}),e?this.collection.add(this.placeholders,{at:1}):this.collection.remove(this.placeholders)},cols:function(){return this.wide()?4:2},render:function(){m.prototype.render.call(this),this.resize()}}),m.register("junior_nav_slider",{breakpoints:[n.max,n.midHigh,l.juniorNavMin].join(" "),cols:function(){var e=d();return e>=n.max?6:e>=n.midHigh?5:e>=l.juniorNavMin?4:3},peekAmount:function(){return.25/Math.sqrt(this.rpp()/.2)}}),m.register("incredibles_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){var t,i=this.model.get("style_options")||{},s=e.window.innerWidth;return s<=n.midLow?t="mobile":s>n.midLow&&s<=n.max?t="tablet":s>n.max&&(t="desktop"),(i.show_peeking_content||[]).includes(t)},peekAmount:function(){var e=d(),t=this.model.get("style_options"),i=t.show_peeking_content||[],s=!1,o=!1;return i&&(i.includes("desktop"),s=i.includes("tablet"),o=i.includes("mobile")),e<=n.midLow&&o?.65/Math.sqrt(this.rpp()/.2):e<=n.max+1&&s?.25/Math.sqrt(this.rpp()/.2):0},transformAmount:function(){var e=d(),t=this.model.get("style_options"),i=t&&t.show_peeking_content,s=!1,o=!1;return i&&(s=i.includes("tablet"),o=i.includes("mobile")),e<=n.midLow&&o?10:e<=n.midUltraHigh&&s?5:0},wide:function(){return d()>=n.max},cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=i.items_per_slide_page,r=4,a=2,l=1;return o&&(r=o.desktop||r,a=o.tablet||a,l=o.mobile||l),s&&t?s:t?r:e>=n.midHigh?a:l},initialize:function(e){this.model.data.models=this.disableAnchors(),m.prototype.initialize.call(this,e)},disableAnchors:function(){var e=this.model.data.models;return e.forEach(function(e){var t=e.attributes||{},i=t&&t.href,s=t&&t.config_options,o=s&&s.disable_anchors;o=!(!o||!i||"#"!==i),e.get("config_options").disable_anchors=o}),e}}),m.register("featured_playlist_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return(this.model.get("config_options")||{}).show_peek},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return d()>=n.max},cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=this.model.get("config_options"),r=o&&o.items_per_slide_page,a=r&&r.mobile;return s&&t?s:t?r&&r.desktop||4:e>=n.midHigh?r&&r.tablet||2:a?parseInt(a,10):1},initialize:function(e){this.model.attributes.data=this.configureItems(),this.model.attributes.see_all_featured=!!this.model.attributes.seeAll,m.prototype.initialize.call(this,e)},configureItems:function(){var e=this.model.data.models,t=this.model.get("config_options"),i=t&&t.image_ratio;return e.forEach(function(e){var t=e.get("images");if(t&&t.desktop){var s=t.desktop.desktop_2x3;"ratio_16x9"===i?s=t.desktop.desktop_16x9:"ratio_1x1"===i&&(s=t.desktop.desktop_1x1),e.set({image_asset:s,image_ratio:i,show_title:!0})}}),e}}),m.register("details_slider",{events:{slide:m.prototype.events.slide,"click .show_details_container .item":function(e){var t=c(e.currentTarget),i=this.model&&this.model.data,s=i&&i.length,o=c(t.closest(".details_slider")),r=t.find(".thumb-border")[0],a=c(o).find(".selected")[0],n=c(o).find(".show-outline"),l=this.model.get("style_options")||{},d=this.model.get("config_options")||{},h=l.slider_outline_color_override,u="custom"===d.custom_highlight,p="disable"===d.custom_highlight,f=d.define_item_number||0,m=f<=s?f:0;if(e.preventDefault(),o.is(this.$el)){var g=t.index()+this.currentPage*this.rppVal;c(a).removeClass("selected"),!h||u||p||(a.style.borderColor="transparent");for(var _=0;_<n.length;_++)c(n[0]).removeClass("show-outline");if(c(r).addClass("selected"),u&&m&&!p){g+1!==m&&(r.style.borderColor="transparent")}else h&&(r.style.borderColor=h);this.setDetails(this.model.data.models[g])}},"keyup .show_details_container .item":function(e){var t=c(e.currentTarget),i=c(t.closest(".details_slider"));if(9===e.keyCode){var s=t.find(".entity-link")[0];c(s).addClass("show-outline")}else if(13===e.keyCode){var o=i.find(".details-text");c(o[0]).focus()}},"keydown .show_details_container .item":function(e){if(9===e.keyCode){var t=c(e.currentTarget),i=c(t.closest(".details_slider")),s=i.find(".show-outline")[0];c(s).removeClass("show-outline")}},"keydown .show_details_container .details-text":function(e){if(9===e.keyCode){var t,i=c(e.currentTarget),s=c(i.closest(".details_slider")),o=s.find(".selected")[0],r=c(o).closest(".item");t=e.shiftKey?r.prev(".item"):r.next(".item");var a=c(t).find(".entity-link");e.preventDefault(),a[0].focus()}},"mouseover .entity-container.show-details .entity-mask .entity-link .entity-box":function(e){var t=c(e.currentTarget),i=t.find("img"),s=this.model&&this.model.get("style_options"),o=s.enable_hover_filter&&s.hover_filter;o&&""!==o&&c(i).css("filter",o)},"mouseleave .entity-container.show-details .entity-mask .entity-link .entity-box":function(e){var t=c(e.currentTarget),i=t.find("img"),s=this.model&&this.model.get("style_options"),o=s.enable_hover_filter&&s.hover_filter;o&&""!==o&&c(i).css("filter","none")}},breakpoints:[l.detailsSliderMax,n.midUltraHigh,l.detailsSliderLow].join(" "),show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return d()<=n.midUltraHigh},peekAmount:function(){var e=d();return e>n.midUltraHigh?0:e>=l.detailsSliderLow?.25/Math.sqrt(this.cols()/.3):.5/Math.sqrt(this.cols()/.3)},wide:function(){return d()>l.detailsSliderMax},cols:function(){var e=d(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,o=i.mobile_columns;return s&&t?s:t?6:e>n.midUltraHigh?5:e>=l.detailsSliderLow?4:o?parseInt(o,10):2},initialize:function(t){this.model.attributes.data=this.configureDetailsOnLoad(),m.prototype.initialize.call(this,t),e.window.addEventListener("resize",function(){this.verticalAlign()}.bind(this))},configureDetailsOnLoad:function(){var e=this.model.data.models[0],t=this.model&&this.model.get("data"),i=t&&t.length,s=this.model.get("style_options"),o=s.slider_outline_color_override,r=this.model.get("config_options"),a="custom"===r.custom_highlight,n="disable"===r.custom_highlight,l=r.define_item_number||0,d=l<=i?l:0,c=e.get("override_styles")||"";if(this.setDetails(e),!n)if(e.set({selected:!0}),a&&d){var h=this.model.data.models[d-1];if(h){var u=h.get("override_styles")||"";h.set({override_styles:u+" border-color: "+o+";",item_highlight:!0}),d>1&&e.set({override_styles:c+" border-color: transparent;"})}else e.set({override_styles:c+"border-color: "+o+";"})}else e.set({override_styles:c+"border-color: "+o+";"})},setDetails:function(e){var t=this.model.get("config_options")||{};if(!t||!t.display_link_only){var i=e.get("alt_text"),s=e.get("thumb_data"),o=e.get("title"),r=e.get("description"),a=e.get("url")||e.get("character_link_url"),n=e.get("alt_display_name"),l=this.$el.find(".slider-details-container"),d=l.find(".thumb"),h=l.find(".title"),u=l.find(".alt-display-name"),p=l.find(".description"),f=l.find(".learn-more");d.attr("alt",i),d.attr("data-src",s.src),d.attr("src",s.src),h.text(o),n?(u.text(n),c(u).removeClass("no-name")):c(u).addClass("no-name"),p.text(r),a?(f.attr("href",a),c(f).removeClass("no-link")):c(f).addClass("no-link");var m={alt_text:i,thumb_data:s,title:o,alt_display_name:n,description:r,learn_more:a};return this.details=m,l}},verticalAlign:function(){var e=c(this.$el).find(".slider-details-container .details-text"),t=c(this.$el).find(".slider-details-container .aspect");e.height()>t.height()?c(t).css("vertical-align","top"):c(t).css("vertical-align","")}})}(this);